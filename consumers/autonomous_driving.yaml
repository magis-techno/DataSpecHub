meta:
  consumer: autonomous_driving
  owner: "ad-team@company.com"
  description: "自动驾驶系统的数据通道需求"
  version: "1.0.0"
  created_at: "2024-01-01"

# 需求分组 - 按功能模块组织
requirement_groups:
  
  # 感知模块需求
  perception:
    description: "感知算法所需的传感器数据"
    requirements:
      - channel: img_cam1
        version: ">=1.0.0 <2.0.0"
        required: true
        on_missing: fail
        priority: critical
        
      - channel: lidar
        version: ">=1.0.0"
        required: true
        on_missing: fail
        priority: critical
        
      - channel: radar.v2
        version: "^2.0.0"
        required: false
        on_missing: substitute
        substitute_with:
          channel: radar.v1
          version: "1.0.0"
        priority: high
        
      - channel: fisheye_original_cam9
        version: ">=1.0.0"
        required: false
        on_missing: ignore
        priority: medium
        
  # 定位模块需求  
  localization:
    description: "定位算法所需的位姿和标定数据"
    requirements:
      - channel: utils
        version: ">=1.0.0"
        required: true
        on_missing: fail
        priority: critical
        
      - channel: ego_pose
        version: ">=1.0.0"
        required: true
        on_missing: fail
        priority: critical
        
      - channel: calib
        version: ">=1.0.0"
        required: true
        on_missing: fail
        priority: critical
        
  # 规划控制模块需求
  planning:
    description: "规划控制算法所需的地图和导航数据"
    requirements:
      - channel: rc_map
        version: ">=1.0.0"
        required: true
        on_missing: fail
        priority: critical
        
      - channel: pnc_sd_navi_info
        version: ">=1.0.0"
        required: false
        on_missing: use_default
        default_value: "empty_navi_info.json"
        priority: medium

# 全局配置
global_config:
  # 默认缺失处理策略
  default_on_missing: ignore
  
  # 版本兼容性策略
  version_policy: 
    allow_prerelease: false
    prefer_latest_stable: true
    
  # 数据质量要求
  quality_requirements:
    min_sample_count: 1000
    max_missing_rate: 0.05  # 5%
    required_validation: true
    
# 环境特定需求
environments:
  development:
    relaxed_requirements: true
    allow_missing_channels: true
    substitute_with_mock: true
    
  testing:
    strict_validation: true
    require_all_channels: true
    
  production:
    strict_validation: true
    require_all_channels: true
    performance_monitoring: true

# 与需求管理系统的集成
integration:
  jira_epic: "AD-2024-001"
  requirements_doc: "https://wiki.company.com/ad-requirements"
  approval_status: "approved"
  approver: "ad-lead@company.com"
  approval_date: "2024-01-01" 