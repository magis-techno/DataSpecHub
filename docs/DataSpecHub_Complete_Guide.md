# DataSpecHub å®Œæ•´ä½¿ç”¨æŒ‡å—

## æ¦‚è¿°
æœ¬æ–‡æ¡£æä¾›DataSpecHubç³»ç»Ÿçš„å®Œæ•´ä½¿ç”¨æŒ‡å—ï¼ŒåŒ…æ‹¬ç³»ç»Ÿæ¶æ„ã€ç‰ˆæœ¬ç®¡ç†è§„èŒƒã€é…ç½®æ–¹æ³•ã€è¿ä½œæœºåˆ¶å’Œæœ€ä½³å®è·µã€‚é€šè¿‡æœ¬æ–‡æ¡£ï¼Œä½¿ç”¨è€…å¯ä»¥å…¨é¢äº†è§£å¦‚ä½•é…ç½®å’Œä½¿ç”¨DataSpecHubè¿›è¡Œæ•°æ®è§„æ ¼ç®¡ç†å’Œç‰ˆæœ¬æ§åˆ¶ã€‚

## 1. ç³»ç»Ÿæ¦‚è¿°ä¸åŒè¦ç´ æ¨¡å‹

### 1.1 æ•°æ®é›†å‘å¸ƒçš„åŒè¦ç´ æ¨¡å‹

DataSpecHubé‡‡ç”¨åŒè¦ç´ æ¨¡å‹æ¥ç®¡ç†æ•°æ®é›†å‘å¸ƒï¼š

**æ•°æ®é›†æœ€ç»ˆå‘å¸ƒ = SPEC + ç”Ÿäº§è¾“å…¥åˆ—è¡¨**

- **SPECï¼ˆè§„æ ¼å®šä¹‰ï¼‰**ï¼šç”±DataSpecHubä»“åº“ç®¡ç†ï¼ŒåŒ…æ‹¬æ•°æ®æ ¼å¼ã€å­—æ®µå®šä¹‰ã€éªŒè¯è§„åˆ™ã€ç‰ˆæœ¬çº¦æŸç­‰
- **ç”Ÿäº§è¾“å…¥åˆ—è¡¨**ï¼šç”±data_releaseä»“åº“ç®¡ç†ï¼ŒåŒ…æ‹¬å®é™…æ•°æ®èŒƒå›´ã€æ¥æºã€é‡‡é›†æ¡ä»¶ã€JSONLç´¢å¼•æ–‡ä»¶ç­‰

**å½“å‰DataSpecHubä»“åº“èšç„¦**ï¼šSPECç®¡ç†ï¼ŒåŒ…æ‹¬channelè§„æ ¼å®šä¹‰ã€consumeréœ€æ±‚çº¦å®šã€bundleç‰ˆæœ¬æŒ‡å¯¼ã€‚

### 1.2 ç³»ç»Ÿæ¶æ„ä¸æ•°æ®æµ

```
DataSpecHub ä»“åº“èŒè´£ï¼š
â”œâ”€â”€ Channels/     - æ•°æ®é€šé“è§„æ ¼å®šä¹‰ï¼ˆæ ¼å¼ã€å­—æ®µã€éªŒè¯è§„åˆ™ï¼‰
â”œâ”€â”€ Consumers/    - ç”¨æˆ·ç‰ˆæœ¬éœ€æ±‚é…ç½®ï¼ˆçº¦æŸã€ä¾èµ–ã€ç¼ºå¤±å¤„ç†ï¼‰
â””â”€â”€ Bundles/      - ç‰ˆæœ¬æ¸…å•æŒ‡å¯¼ï¼ˆå¯ç”¨ç‰ˆæœ¬ã€æ¨èç‰ˆæœ¬ï¼‰

å¤–éƒ¨ç”Ÿäº§ç³»ç»Ÿï¼š
â””â”€â”€ æ ¹æ®DataSpecHubè§„èŒƒé‡æ–°å¼€å‘çš„ç”Ÿäº§å·¥å…·

data_release ä»“åº“ï¼š
â””â”€â”€ æœ€ç»ˆäº¤ä»˜ç‰©ç®¡ç†ï¼ˆJSONLç´¢å¼•æ–‡ä»¶ã€è®­ç»ƒæ•°æ®é›†é…ç½®ï¼‰
```

**æ•°æ®æµè½¬è¿‡ç¨‹**ï¼š
```
1. æ•°æ®è§„æ ¼å®šä¹‰    â†’  channels/  (æ ¼å¼æ ‡å‡†)
2. ç”¨æˆ·éœ€æ±‚é…ç½®    â†’  consumers/ (ç‰ˆæœ¬çº¦æŸ)  
3. ç‰ˆæœ¬æ¸…å•ç”Ÿæˆ    â†’  bundles/   (å¯ç”¨ç‰ˆæœ¬åˆ—è¡¨)
4. å¤–éƒ¨ç³»ç»Ÿç”Ÿäº§    â†’  æ ¹æ®bundleæŒ‡å¯¼ç”Ÿäº§æ•°æ®
5. äº¤ä»˜ç‰©ç®¡ç†      â†’  data_releaseä»“ (JSONLç´¢å¼•)
```

### 1.3 æ ¸å¿ƒæ¦‚å¿µ

#### ç”Ÿäº§è§„æ ¼ vs å‘å¸ƒè§„æ ¼
- **ç”Ÿäº§è§„æ ¼ï¼ˆProduction Specï¼‰**: æ•°æ®ç”Ÿäº§è¿‡ç¨‹ä¸­ä½¿ç”¨çš„å†…éƒ¨è§„æ ¼ï¼ŒåŒ…å«å…·ä½“çš„ç”Ÿäº§æ‰¹æ¬¡ã€æ•°æ®è·¯å¾„ã€è´¨é‡æŒ‡æ ‡ç­‰
- **å‘å¸ƒè§„æ ¼ï¼ˆRelease Specï¼‰**: é¢å‘æ¶ˆè´¹è€…çš„æ ‡å‡†åŒ–è§„æ ¼ï¼Œæä¾›ç¨³å®šçš„APIå’Œæ•°æ®æ ¼å¼å®šä¹‰

#### ç‰ˆæœ¬æ¸…å•è®°å½•å™¨
Bundleç³»ç»Ÿä¸“æ³¨äºä¸‰ä¸ªæ ¸å¿ƒåŠŸèƒ½ï¼š
1. **ç‰ˆæœ¬æ¸…å•ç”Ÿæˆ** - å°†Consumerçš„è½¯çº¦æŸè½¬æ¢ä¸ºæ˜ç¡®çš„ç‰ˆæœ¬åˆ—è¡¨
2. **é“¾è·¯è¿½æº¯** - è®°å½•ä»Consumeråˆ°Bundleçš„å®Œæ•´è½¬æ¢è·¯å¾„  
3. **çµæ´»é€‰æ‹©** - æä¾›ç‰ˆæœ¬åˆ—è¡¨è€Œéå›ºå®šç‰ˆæœ¬ï¼Œæ”¯æŒåŠ¨æ€æ•°æ®ç¯å¢ƒ

### 1.4 è§’è‰²åˆ†å·¥ä¸é…ç½®èŒè´£

| è§’è‰² | ä¸»è¦èŒè´£ | è´Ÿè´£çš„é…ç½®æ–‡ä»¶ |
|------|----------|---------------|
| **æ•°æ®SE** | å¤æ‚é€šé“è§„æ ¼è®¾è®¡ã€æŠ€æœ¯æ–¹æ¡ˆåˆ¶å®š | `channels/<complex>/spec-*.yaml` |
| **MDE** | ç®€å•é€šé“è§„æ ¼ç»´æŠ¤ã€æ¨¡å—åè°ƒ | `channels/<simple>/spec-*.yaml` |
| **FOï¼ˆFeature Ownerï¼‰** | Consumeréœ€æ±‚ç®¡ç†ã€å˜æ›´åè°ƒ | `consumers/*/` |
| **å¤–éƒ¨RM** | æ ¹æ®BundleæŒ‡å¯¼è¿›è¡Œæ•°æ®ç”Ÿäº§ | ä½¿ç”¨bundlesæŒ‡å¯¼ç”Ÿäº§ |

### 1.5 ä¸data_releaseä»“çš„åä½œå…³ç³»

DataSpecHubå®šä¹‰"åšä»€ä¹ˆ"å’Œ"æ€ä¹ˆåš"ï¼Œdata_releaseä»“ç®¡ç†"åšå‡ºæ¥çš„æ˜¯ä»€ä¹ˆ"ï¼š

**DataSpecHub â†’ data_release çš„ç‰ˆæœ¬è¿½æº¯é“¾è·¯**ï¼š
```
Consumerç‰ˆæœ¬ â†’ Bundleç‰ˆæœ¬ â†’ Training Datasetç‰ˆæœ¬
foundational_model/v1.0.0.yaml â†’ foundational_model-v1.0.0-20250620-143500.yaml â†’ JointTrain_20250727-v1.2.0
```

é€šè¿‡ `consumer_version` å’Œ `bundle_versions` æ•°ç»„å¯ä»¥è¿½æº¯åˆ°DataSpecHubä¸­çš„å…·ä½“é…ç½®æ–‡ä»¶ï¼Œå®ç°å®Œæ•´çš„æ•°æ®è¡€ç¼˜å…³ç³»ã€‚

## 2. Bundleç‰ˆæœ¬è§„èŒƒ

### 2.1 è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶(SemVer)åŸºç¡€

#### ç‰ˆæœ¬æ ¼å¼
é‡‡ç”¨ `MAJOR.MINOR.PATCH` ä¸‰ä½ç‰ˆæœ¬å·æ ¼å¼ï¼Œéµå¾ªSemVeræ ‡å‡†ã€‚

#### ç‰ˆæœ¬çº¦æŸè¡¨è¾¾å¼
- `1.2.0`: ç²¾ç¡®ç‰ˆæœ¬åŒ¹é…
- `>=1.2.0`: å¤§äºç­‰äº1.2.0çš„ä»»ä½•ç‰ˆæœ¬
- `>1.2.0`: å¤§äº1.2.0ï¼ˆä¸åŒ…å«1.2.0æœ¬èº«ï¼‰
- `^1.2.0`: å…¼å®¹1.2.0ä½†å°äº2.0.0ï¼ˆå…è®¸MINORå’ŒPATCHæ›´æ–°ï¼‰
- `~1.2.0`: å…¼å®¹1.2.0ä½†å°äº1.3.0ï¼ˆåªå…è®¸PATCHæ›´æ–°ï¼‰
- `*`: ä»»ä½•ç‰ˆæœ¬ï¼ˆæœ€æ–°ä¼˜å…ˆï¼‰

### 2.2 Bundleç±»å‹è¯´æ˜

#### Weekly Bundle (å‘¨åº¦Bundle)
- **ç”¨é€”**: å®šæœŸè®­ç»ƒå’Œå¼€å‘ç¯å¢ƒä½¿ç”¨
- **ç”Ÿæˆé¢‘ç‡**: æ¯å‘¨ç”Ÿæˆ
- **å‘½åæ ¼å¼**: `{consumer}-{version}-{å¹´}.{å‘¨æ•°}`
- **ç¤ºä¾‹**: `end_to_end-v1.2.0-2025.25`
- **ç‰¹ç‚¹**: åŸºäºç¨³å®šç‰ˆæœ¬ï¼Œé€‚åˆå¸¸è§„å¼€å‘å·¥ä½œ

#### Release Bundle (å‘å¸ƒBundle)  
- **ç”¨é€”**: ç”Ÿäº§ç¯å¢ƒå’Œé‡è¦é‡Œç¨‹ç¢‘å‘å¸ƒ
- **ç”Ÿæˆæ—¶æœº**: é‡å¤§ç‰ˆæœ¬å‘å¸ƒæ—¶
- **å‘½åæ ¼å¼**: `{consumer}-{version}-release`
- **ç¤ºä¾‹**: `pv_trafficlight-v1.1.0-release`
- **ç‰¹ç‚¹**: ç»è¿‡å……åˆ†æµ‹è¯•ï¼Œç‰ˆæœ¬å›ºå®šï¼Œç”¨äºç”Ÿäº§éƒ¨ç½²

#### Snapshot Bundle (å¿«ç…§Bundle)
- **ç”¨é€”**: ç‰¹å®šæ—¶é—´ç‚¹çš„æ•°æ®å¿«ç…§
- **ç”Ÿæˆæ—¶æœº**: é‡è¦å®éªŒæˆ–æ•°æ®å¤‡ä»½éœ€è¦
- **å‘½åæ ¼å¼**: `{consumer}-{version}-{YYYYMMDD}-{HHMMSS}`
- **ç¤ºä¾‹**: `foundational_model-v1.0.0-20250620-143500`
- **ç‰¹ç‚¹**: ç²¾ç¡®æ—¶é—´æ ‡è®°ï¼Œç”¨äºå®éªŒå¤ç°å’Œæ•°æ®å®¡è®¡

### 2.3 æ ¸å¿ƒæ¦‚å¿µ

#### Consumer Version vs Bundle Version

**Consumer Version**
- **å®šä¹‰**: æ¶ˆè´¹è€…ç»„ä»¶çš„åŠŸèƒ½ç‰ˆæœ¬æ ‡è¯†
- **æ ¼å¼**: SemVeræ ¼å¼ï¼Œå¦‚ `v1.2.0`
- **å«ä¹‰**: æ ‡è¯†æ¶ˆè´¹è€…çš„åŠŸèƒ½è¿­ä»£å’Œå…¼å®¹æ€§è¦æ±‚
- **ç¤ºä¾‹**: `v1.2.0` è¡¨ç¤ºç«¯åˆ°ç«¯ç½‘ç»œçš„ç¬¬1.2.0åŠŸèƒ½ç‰ˆæœ¬

**Bundle Version**  
- **å®šä¹‰**: Bundleæ•°æ®å¿«ç…§çš„å”¯ä¸€æ ‡è¯†ç¬¦
- **æ ¼å¼**: æ ¹æ®Bundleç±»å‹ç¡®å®šå…·ä½“æ ¼å¼
- **å«ä¹‰**: å°†Consumerçš„ç‰ˆæœ¬çº¦æŸè½¬æ¢ä¸ºå…·ä½“å¯ç”¨æ•°æ®ç‰ˆæœ¬çš„å¿«ç…§
- **ç¤ºä¾‹**: `v1.2.0-2025.25` è¡¨ç¤ºåŸºäºConsumer v1.2.0éœ€æ±‚åœ¨2025å¹´ç¬¬25å‘¨çš„æ•°æ®å¿«ç…§

#### Bundleå”¯ä¸€æ ‡è¯†
æ¯ä¸ªBundleç”± `bundle_name` + `bundle_version` å”¯ä¸€ç¡®å®šï¼š
- **bundle_name**: å¯¹åº”Consumeråç§°ï¼Œå¦‚ `end_to_end`
- **bundle_version**: æ ¹æ®Bundleç±»å‹ç”Ÿæˆçš„ç‰ˆæœ¬æ ‡è¯†ï¼Œå¦‚ `v1.2.0-2025.25`
- **æ–‡ä»¶è·¯å¾„**: `bundles/{type}/{bundle_name}-{bundle_version}.yaml`

#### ç‰ˆæœ¬è½¬æ¢å…³ç³»
```
Consumeréœ€æ±‚ (è½¯çº¦æŸ) â†’ Bundle Generator â†’ Bundleå¿«ç…§ (ç¡¬ç‰ˆæœ¬æ¸…å•)
     v1.2.0                                    v1.2.0-2025.25
    
çº¦æŸç¤ºä¾‹:
- image_original: "1.2.0" (ç²¾ç¡®è¦æ±‚)
- object_array_fusion_infer: ">=1.2.0" (èŒƒå›´çº¦æŸï¼Œå…è®¸1.2.0+)  
- utils_slam: "~1.0.0" (è¡¥ä¸å…¼å®¹ï¼Œå…è®¸1.0.x)
- occupancy: ">=1.0.0" (èŒƒå›´çº¦æŸï¼Œå…è®¸1.0.0+)

å¿«ç…§ç»“æœ:
- image_original: ["1.2.0"]
- object_array_fusion_infer: ["1.2.0"]  
- utils_slam: ["1.0.5", "1.0.2", "1.0.0"] (æ»¡è¶³~1.0.0çš„ç‰ˆæœ¬)
- occupancy: ["1.0.0"]
```

### 2.4 Bundleæ–‡ä»¶å­—æ®µè§„èŒƒ

#### Bundleæ–‡ä»¶å­—æ®µç»„æˆ

**Metaå­—æ®µ**ï¼šBundleåŸºç¡€ä¿¡æ¯
- `bundle_name`: Bundleåç§°ï¼ˆå¯¹åº”Consumeråç§°ï¼‰
- `consumer_version`: æºConsumerçš„ç‰ˆæœ¬
- `bundle_version`: Bundleå¿«ç…§ç‰ˆæœ¬
- `bundle_type`: Bundleç±»å‹ï¼ˆweekly/release/snapshotï¼‰
- `created_at`: åˆ›å»ºæ—¶é—´
- `source_consumer`: æºConsumeræ–‡ä»¶è·¯å¾„

**ç‰ˆæœ¬è½¬æ¢è¿½è¸ªå­—æ®µ**ï¼šå®Œæ•´çš„è¿½æº¯ä¿¡æ¯
- `consumer_config`: æºé…ç½®æ–‡ä»¶è·¯å¾„
- `consumer_version`: Consumerç‰ˆæœ¬
- `conversion_time`: è½¬æ¢æ—¶é—´
- `converted_by`: è½¬æ¢å·¥å…·æ ‡è¯†

**é€šé“ç‰ˆæœ¬å­—æ®µ**ï¼šæ ¸å¿ƒçš„ç‰ˆæœ¬æ¸…å•ä¿¡æ¯
- `channel`: é€šé“åç§°
- `available_versions`: æŒ‰æ¨èåº¦æ’åºçš„ç‰ˆæœ¬åˆ—è¡¨
- `source_constraint`: æ¥è‡ªConsumerçš„åŸå§‹çº¦æŸ
- `required`: æ˜¯å¦å¿…éœ€ï¼ˆä»Consumeré…ç½®ç»§æ‰¿ï¼‰
- `on_missing`: ç¼ºå¤±å¤„ç†ç­–ç•¥ï¼ˆä»Consumeré…ç½®ç»§æ‰¿ï¼‰

*å®Œæ•´çš„Bundleæ–‡ä»¶ç»“æ„ç¤ºä¾‹è¯·å‚è§ç¬¬6.2èŠ‚ã€‚*

**å­—æ®µå«ä¹‰è¯¦è§£**

| å­—æ®µ | å«ä¹‰ | ç¤ºä¾‹ | ä½¿ç”¨è§„åˆ™ |
|------|------|------|----------|
| `channel` | é€šé“åç§° | `object_array_fusion_infer` | å¯¹åº”channelsç›®å½•ä¸‹çš„é€šé“ |
| `available_versions` | å¯ç”¨ç‰ˆæœ¬åˆ—è¡¨ | `["1.2.0", "1.1.0"]` | æŒ‰æ¨èåº¦æ’åºï¼Œç¬¬ä¸€ä¸ªä¸ºæœ€ä½³é€‰æ‹© |
| `source_constraint` | åŸå§‹çº¦æŸ | `">=1.2.0"` | æ¥è‡ªConsumeré…ç½®ï¼Œç”¨äºå®¡è®¡ |
| `required` | æ˜¯å¦å¿…éœ€ | `true` | ä»Consumeré…ç½®ç»§æ‰¿ |
| `on_missing` | ç¼ºå¤±å¤„ç†ç­–ç•¥ | `"fail"` | ä»Consumeré…ç½®ç»§æ‰¿ |

#### ç‰ˆæœ¬é€‰æ‹©ç­–ç•¥
Bundleç”Ÿæˆå™¨åœ¨è§£æç‰ˆæœ¬çº¦æŸæ—¶éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š

1. **çº¦æŸèŒƒå›´**: é¦–å…ˆç¡®å®šæ»¡è¶³çº¦æŸçš„æ‰€æœ‰å¯ç”¨ç‰ˆæœ¬
   - `>=1.2.0` ä¸”å¯ç”¨ç‰ˆæœ¬ä¸º `[1.2.0, 1.3.0, 1.5.0]` â†’ éƒ½æ»¡è¶³çº¦æŸ
   
2. **ç¨³å®šæ€§ä¼˜å…ˆ**: ä¸ä¸€å®šé€‰æ‹©æœ€æ–°ç‰ˆæœ¬ï¼Œä¼˜å…ˆè€ƒè™‘ç¨³å®šæ€§
   - å¯èƒ½é€‰æ‹© `1.3.0` è€Œä¸æ˜¯ `1.5.0`ï¼ˆå¦‚æœ1.5.0å¤ªæ–°æœªå……åˆ†éªŒè¯ï¼‰
   
3. **å›¢é˜Ÿç­–ç•¥**: è€ƒè™‘å›¢é˜Ÿçš„ä½¿ç”¨ä¹ æƒ¯å’Œå…¼å®¹æ€§éœ€æ±‚

#### ç‰ˆæœ¬æ’åºåŸåˆ™
`available_versions`æ•°ç»„æŒ‰ä»¥ä¸‹ä¼˜å…ˆçº§æ’åºï¼š
1. **ç¨³å®šæ€§ä¼˜å…ˆ**: ç»è¿‡éªŒè¯çš„ç¨³å®šç‰ˆæœ¬æ’åœ¨å‰é¢
2. **å…¼å®¹æ€§è€ƒè™‘**: ç¡®ä¿å‘åå…¼å®¹æ€§
3. **æ•°æ®è´¨é‡**: åœ¨æ»¡è¶³çº¦æŸçš„å‰æä¸‹é€‰æ‹©æ•°æ®è´¨é‡æœ€ä½³çš„ç‰ˆæœ¬

#### ä½¿ç”¨çº¦å®š
- **ç¬¬ä¸€ä¸ªç‰ˆæœ¬**: ç³»ç»Ÿæ¨èçš„ä¸»é€‰ç‰ˆæœ¬ï¼ˆä¸ä¸€å®šæ˜¯æœ€æ–°ç‰ˆæœ¬ï¼‰
- **åç»­ç‰ˆæœ¬**: æŒ‰ä¼˜å…ˆçº§æ’åºçš„å¤‡é€‰ç‰ˆæœ¬ï¼ˆfallbacké€‰é¡¹ï¼‰

## 3. Consumerç‰ˆæœ¬ç®¡ç†

### 3.1 Consumerç‰ˆæœ¬ç»“æ„

#### ç›®å½•ç»„ç»‡
```
consumers/
â”œâ”€â”€ end_to_end/
â”‚   â”œâ”€â”€ v1.0.0.yaml           # åŸºç¡€ç‰ˆæœ¬
â”‚   â”œâ”€â”€ v1.2.0.yaml           # å½“å‰ç¨³å®šç‰ˆæœ¬  
â”‚   â”œâ”€â”€ v1.2.1-experiment.yaml    # å®éªŒåˆ†æ”¯
â”‚   â””â”€â”€ latest.yaml           # æŒ‡å‘å½“å‰æ¨èç‰ˆæœ¬
â”œâ”€â”€ foundational_model/
â”‚   â”œâ”€â”€ v1.0.0.yaml           # åŸºç¡€ç‰ˆæœ¬
â”‚   â”œâ”€â”€ v1.0.1-pretraining.yaml   # é¢„è®­ç»ƒç‰¹åŒ–ç‰ˆæœ¬
â”‚   â”œâ”€â”€ v1.0.2-finetuning.yaml    # å¾®è°ƒç‰¹åŒ–ç‰ˆæœ¬
â”‚   â””â”€â”€ latest.yaml
â””â”€â”€ pv_trafficlight/
    â”œâ”€â”€ v1.1.0.yaml           # å½“å‰ç‰ˆæœ¬
    â”œâ”€â”€ v1.1.1-weather.yaml      # å¤©æ°”é€‚åº”æ€§åˆ†æ”¯
    â””â”€â”€ latest.yaml
```

#### æ–‡ä»¶å‘½åè§„èŒƒ
- **ä¸»ç‰ˆæœ¬**: `v{major}.{minor}.{patch}.yaml`
- **åˆ†æ”¯ç‰ˆæœ¬**: `v{major}.{minor}.{patch}-{variant}.yaml`

#### å˜ä½“åç¼€å«ä¹‰
| åç¼€ | å«ä¹‰ | ä½¿ç”¨åœºæ™¯ |
|------|------|----------|
| `-experiment` | å®éªŒæ€§åŠŸèƒ½æµ‹è¯• | åŠŸèƒ½éªŒè¯ã€A/Bæµ‹è¯• |
| `-pretraining` | é¢„è®­ç»ƒé˜¶æ®µç‰¹åŒ– | å¤§æ¨¡å‹é¢„è®­ç»ƒé˜¶æ®µ |
| `-finetuning` | å¾®è°ƒé˜¶æ®µç‰¹åŒ– | å¤§æ¨¡å‹å¾®è°ƒé˜¶æ®µ |
| `-debug` | è°ƒè¯•ç‰ˆæœ¬ | é—®é¢˜è¯Šæ–­ã€å¼€å‘è°ƒè¯• |

### 3.2 Consumeré…ç½®æ–‡ä»¶è§„èŒƒ

#### Metaå­—æ®µ
```yaml
meta:
  consumer: end_to_end              # Consumeråç§°
  version: "1.2.0"                  # ç‰ˆæœ¬å·ï¼ˆéµå¾ªSemVerï¼‰
  parent_version: "1.1.0"           # åŸºäºå“ªä¸ªç‰ˆæœ¬åˆ›å»ºï¼ˆå¯é€‰ï¼‰
  branch_type: "stable"             # stable/experiment/optimization/pretraining/finetuning
  created_at: "2025-04-10"          # åˆ›å»ºæ—¶é—´
  expires_at: "2025-05-10"          # å®éªŒåˆ†æ”¯è¿‡æœŸæ—¶é—´ï¼ˆå¯é€‰ï¼‰
  owner: "e2e-team@company.com"     # è´Ÿè´£å›¢é˜Ÿ
  description: "ç«¯åˆ°ç«¯ç½‘ç»œçš„æ•°æ®é€šé“ç‰ˆæœ¬éœ€æ±‚"
```

#### Requirementså­—æ®µ
```yaml
requirements:
  - channel: image_original
    version: "1.2.0"              # å•ç‰ˆæœ¬çº¦æŸ
    required: true                 # æ˜¯å¦å¿…éœ€
    on_missing: "fail"            # ç¼ºå¤±å¤„ç†ç­–ç•¥
    
  - channel: object_array_fusion_infer
    version:                      # å¤šç‰ˆæœ¬å€™é€‰åˆ—è¡¨ï¼ˆæŒ‰ä¼˜å…ˆçº§æ’åºï¼‰
      - "1.2.0_optimized"         # é¦–é€‰ç‰ˆæœ¬ï¼ˆæ”¯æŒéæ ‡å‡†å‘½åï¼‰
      - "1.2.0"                   # å¤‡é€‰ç‰ˆæœ¬
      - ">=1.1.0"                 # SemVerå¤‡é€‰çº¦æŸ
    required: true
    on_missing: "fail"
      
  - channel: utils_slam
    version: "~1.0.0"
    required: false
    on_missing: "ignore"          # å¿½ç•¥ç¼ºå¤±
```

### 3.3 ç‰ˆæœ¬çº¦æŸè¯­æ³•

#### æ”¯æŒçš„æ ¼å¼
- **å•ç‰ˆæœ¬**: `version: "1.2.0"` æˆ– `version: ">=1.2.0"`
- **ç‰ˆæœ¬åˆ—è¡¨**: `version: ["1.2.0_opt", "1.2.0", ">=1.1.0"]`
- **æ··åˆçº¦æŸ**: åˆ—è¡¨ä¸­å¯ä»¥åŒ…å«ç²¾ç¡®ç‰ˆæœ¬å’ŒSemVerçº¦æŸ

#### å¤„ç†é€»è¾‘
1. **å•ç‰ˆæœ¬**: æŒ‰æ ‡å‡†SemVerçº¦æŸè§£æ
2. **ç‰ˆæœ¬åˆ—è¡¨**: æŒ‰ä¼˜å…ˆçº§é¡ºåºæŸ¥æ‰¾å¯ç”¨ç‰ˆæœ¬
   - ç²¾ç¡®ç‰ˆæœ¬: ç›´æ¥åŒ¹é…
   - SemVerçº¦æŸ: è§£æååˆå¹¶åˆ°ç»“æœä¸­

### 3.4 è¿è¡Œæ—¶é…ç½®å­—æ®µ

#### `required`: æ˜¯å¦å¿…éœ€ï¼ˆtrue/falseï¼‰
- `true`: æ ¸å¿ƒæ•°æ®ï¼Œä¸šåŠ¡æµç¨‹å¿…éœ€
- `false`: å¯é€‰æ•°æ®ï¼Œç¼ºå¤±æ—¶å¯ç»§ç»­

#### `on_missing`: ç¼ºå¤±å¤„ç†ç­–ç•¥
- `"fail"`: ä»»åŠ¡å¤±è´¥ä¸­æ–­
- `"ignore"`: å¿½ç•¥ç¼ºå¤±ç»§ç»­å¤„ç†

#### æ¨èé…ç½®

**æ ¸å¿ƒæ•°æ®**ï¼š
```yaml
- channel: image_original
  required: true
  on_missing: "fail"
```

**å¯é€‰æ•°æ®**ï¼š
```yaml
- channel: occupancy
  required: false
  on_missing: "ignore"
```

### 3.5 ç‰ˆæœ¬çº¦æŸè§£æè§„åˆ™

#### çº¦æŸç±»å‹å¤„ç†

å‡è®¾ç³»ç»Ÿä¸­å¯ç”¨ç‰ˆæœ¬ä¸ºï¼š`[2.1.0, 1.5.1, 1.5.0, 1.4.0_opt, 1.3.0, 1.2.8, 1.2.0, 1.1.9]`

| Consumerçº¦æŸ | Bundleè§£æç»“æœ | ä½¿ç”¨åœºæ™¯ |
|-------------|---------------|----------|
| `"1.2.0"` | `["1.2.0"]` | ç²¾ç¡®ç‰ˆæœ¬ï¼Œä¸¥æ ¼è¦æ±‚ |
| `">=1.3.0"` | `["2.1.0", "1.5.1", "1.5.0", "1.4.0_opt", "1.3.0"]` | æœ€ä½ç‰ˆæœ¬è¦æ±‚ï¼Œæ— ä¸Šé™ |
| `"~1.2.0"` | `["1.2.8", "1.2.0"]` | ä¿å®ˆç­–ç•¥ï¼Œåªå…è®¸è¡¥ä¸æ›´æ–° |
| `"^1.2.0"` | `["1.5.1", "1.5.0", "1.4.0_opt", "1.3.0", "1.2.8", "1.2.0"]` | å…¼å®¹æ›´æ–°ï¼Œä½†æ’é™¤2.xç‰ˆæœ¬ |
| `["1.4.0_opt", ">=1.3.0"]` | `["1.4.0_opt", "2.1.0", "1.5.1", "1.5.0", "1.3.0"]` | é¦–é€‰ç‰¹å®šç‰ˆæœ¬+å¤‡é€‰èŒƒå›´ |
| `"*"` | `["2.1.0", "1.5.1", "1.5.0", "1.4.0_opt", "1.3.0", "1.2.8", "1.2.0", "1.1.9"]` | ä»»ä½•ç‰ˆæœ¬ï¼Œè¿½æ±‚æœ€æ–° |

#### å…³é”®çº¦æŸåŒºåˆ«

**`^1.2.0` vs `>=1.2.0` çš„é‡è¦åŒºåˆ«**ï¼š
- `^1.2.0`: å…è®¸ `1.2.0` åˆ° `1.x.x`ï¼Œä½†**æ’é™¤ `2.0.0`** (å…¼å®¹æ€§è¾¹ç•Œ)
- `>=1.2.0`: å…è®¸ `1.2.0` åŠä»¥ä¸Š**ä»»ä½•ç‰ˆæœ¬**ï¼ŒåŒ…æ‹¬ `2.0.0`, `3.0.0` ç­‰

åœ¨ä¸Šé¢ä¾‹å­ä¸­ï¼š
- `^1.2.0` ç»“æœ**ä¸åŒ…å«** `2.1.0`
- `>=1.3.0` ç»“æœ**åŒ…å«** `2.1.0`

#### å¸¸è§ä½¿ç”¨å»ºè®®

| åœºæ™¯ | æ¨èçº¦æŸ | è¯´æ˜ |
|------|---------|------|
| ç”Ÿäº§ç¯å¢ƒ | `"~1.2.0"` | ç¨³å®šæ€§ä¼˜å…ˆï¼Œåªæ¥å—è¡¥ä¸æ›´æ–° |
| å¼€å‘ç¯å¢ƒ | `"^1.2.0"` | åŠŸèƒ½æ›´æ–°ï¼Œä½†é¿å…ç ´åæ€§å˜æ›´ |
| å®éªŒç¯å¢ƒ | `">=1.2.0"` | å…è®¸ä»»ä½•æ–°ç‰ˆæœ¬ï¼ŒåŒ…æ‹¬ç ´åæ€§æ›´æ–° |
| ç‰¹å®šåŠŸèƒ½ä¾èµ– | `">=1.3.0"` | éœ€è¦ç‰¹å®šç‰ˆæœ¬çš„æ–°åŠŸèƒ½ |

## 4. é…ç½®æŒ‡å—ä¸è¿ä½œæœºåˆ¶

### 4.1 åˆ›å»ºæ–°é€šé“çš„é…ç½®æµç¨‹

#### æ­¥éª¤1ï¼šå®šä¹‰é€šé“è§„èŒƒ
åœ¨ `channels/<channel_name>/` ç›®å½•ä¸‹åˆ›å»ºè§„èŒƒæ–‡ä»¶ï¼š

```yaml
# channels/new_sensor/spec-1.0.0.yaml
meta:
  channel: new_sensor
  version: 1.0.0
  category: sensor_raw
  description: "æ–°ä¼ æ„Ÿå™¨æ•°æ®"
  
schema:
  data_format:
    type: binary
    encoding: [protobuf]
    compression:
      bitrate: 4000000  # 4Mbps
      quality: standard
    average_file_size: "2.0MB"
    
  timestamp:
    type: int64
    unit: nanoseconds
    description: "æ•°æ®é‡‡é›†æ—¶é—´æˆ³"
      
  metadata:
    data_source:
      type: string
      description: "æ•°æ®æ¥æºè¯é¢˜"
    sensor_position: 
      type: string
      description: "ä¼ æ„Ÿå™¨ä½ç½®æ ‡è¯†"

# ä¸Šæ¸¸ä¾èµ–ä¿¡æ¯ - æ•°æ®æ¥æºå’Œå¤„ç†æ¨¡å—
upstream_dependencies:
  module_name: "processing_module"
  module_version: "v1.0.0"
  description: "ä¼ æ„Ÿå™¨æ•°æ®ç”±æŒ‡å®šå¤„ç†æ¨¡å—ç”Ÿæˆ"
  source_topic: "sensor_data.bag"

validation:
  file_extensions: [".pb"]
  max_file_size: "50MB"
  
lifecycle:
  status: draft
  created_at: "2024-01-01"
  updated_at: "2024-01-01"
  maintainer: "sensor-team@company.com"
```

#### æ­¥éª¤2ï¼šåˆ›å»ºå‘å¸ƒè§„èŒƒ
```yaml
# channels/new_sensor/release-1.0.0.yaml
meta:
  channel: new_sensor
  version: 1.0.0
  release_date: "2024-01-01"
  release_type: major
  
spec_ref: ./spec-1.0.0.yaml

changes:
  - type: "feature"
    description: "åˆå§‹ç‰ˆæœ¬å‘å¸ƒ"
    
compatibility:
  backward_compatible: true
  breaking_changes: []
  deprecated_fields: []

quality_metrics:
  validation_passed: true
  sample_coverage: 100%
  format_compliance: 100%
  
performance:
  file_size_avg: "2.0MB"
  processing_time: "120ms"
  
lifecycle:
  status: stable
  next_version: "1.1.0"
  support_until: "2025-06-01"
```

#### æ­¥éª¤3ï¼šæ›´æ–°åˆ†ç±»ä½“ç³»
ç¼–è¾‘ `taxonomy/channel_taxonomy.yaml`ï¼Œå°†æ–°é€šé“æ·»åŠ åˆ°ç›¸åº”åˆ†ç±»ä¸­ã€‚

### 4.2 é…ç½®Consumeréœ€æ±‚

#### åˆ›å»ºConsumeré…ç½®æ–‡ä»¶
```yaml
# consumers/my_application/v1.0.0.yaml
meta:
  consumer: my_application
  owner: "app-team@company.com"
  description: "æˆ‘çš„åº”ç”¨æ•°æ®éœ€æ±‚"
  team: "åº”ç”¨å¼€å‘å›¢é˜Ÿ"
  version: "1.0.0"
  created_at: "2025-04-10"
  updated_at: "2025-04-10"

# åº”ç”¨çš„æ•°æ®éœ€æ±‚
requirements:
  - channel: image_original
    version: ">=1.0.0"
    required: true
    on_missing: "fail"  # ä»»åŠ¡å¤±è´¥ä¸­æ–­
    
  - channel: object_array_fusion_infer
    version: ">=1.0.0"
    required: true
    on_missing: "fail"
    
  - channel: occupancy
    version: "1.0.0"
    required: false
    on_missing: "ignore"  # å¿½ç•¥ç¼ºå¤±ç»§ç»­å¤„ç†

# éœ€æ±‚å˜æ›´å†å²
change_history:
  - date: "2025-04-10"
    version: "1.0.0"
    changes: "åˆå§‹ç‰ˆæœ¬ï¼šæ”¯æŒåŸºç¡€å›¾åƒå’Œç›®æ ‡æ£€æµ‹éœ€æ±‚"
```

#### åˆ›å»ºlatestæŒ‡é’ˆæ–‡ä»¶
```yaml
# consumers/my_application/latest.yaml
# æŒ‡å‘å½“å‰æ¨èç‰ˆæœ¬: v1.0.0

meta:
  consumer: my_application
  owner: "app-team@company.com"
  description: "æˆ‘çš„åº”ç”¨æ•°æ®éœ€æ±‚"
  team: "åº”ç”¨å¼€å‘å›¢é˜Ÿ"
  version: "1.0.0"
  created_at: "2025-04-10"
  updated_at: "2025-04-10"

# å½“å‰æ•°æ®éœ€æ±‚ - ä¸“æ³¨äºç‰ˆæœ¬ä¾èµ–
requirements:
  - channel: image_original
    version: ">=1.0.0"
    required: true
    on_missing: "fail"
    
  - channel: object_array_fusion_infer
    version: ">=1.0.0"
    required: true
    on_missing: "fail"
    
  - channel: occupancy
    version: "1.0.0"
    required: false
    on_missing: "ignore"
```

### 4.3 Bundleç”Ÿæˆä¸ä½¿ç”¨æœºåˆ¶

#### Bundleç”Ÿæˆè¿‡ç¨‹
```
1. Consumeré…ç½® â†’ å¤–éƒ¨Bundleç”Ÿæˆå™¨è¯»å–çº¦æŸ
2. ç‰ˆæœ¬è§£æ â†’ æ‰«æå¯ç”¨ç‰ˆæœ¬ï¼Œåº”ç”¨çº¦æŸé€»è¾‘
3. ç‰ˆæœ¬æ¸…å• â†’ ç”ŸæˆæŒ‰æ¨èåº¦æ’åºçš„ç‰ˆæœ¬åˆ—è¡¨
4. Bundleæ–‡ä»¶ â†’ è¾“å‡ºå®Œæ•´çš„Bundleé…ç½®æ–‡ä»¶
```

#### Bundleæ–‡ä»¶ç»“æ„è§£è¯»
Bundleæ–‡ä»¶åŒ…å«ä»¥ä¸‹æ ¸å¿ƒå­—æ®µï¼š
- **meta**: Bundleå…ƒæ•°æ®ï¼ŒåŒ…æ‹¬åç§°ã€ç‰ˆæœ¬ã€ç±»å‹ã€åˆ›å»ºæ—¶é—´ç­‰
- **conversion_source**: ç‰ˆæœ¬è½¬æ¢è¿½æº¯ä¿¡æ¯ï¼Œè®°å½•ä»Consumeråˆ°Bundleçš„è½¬æ¢è¿‡ç¨‹
- **channels**: ç‰ˆæœ¬æ¸…å•ï¼ŒåŒ…å«æ¯ä¸ªé€šé“çš„å¯ç”¨ç‰ˆæœ¬åˆ—è¡¨å’Œè¿è¡Œæ—¶é…ç½®

**å®Œæ•´çš„Bundleæ–‡ä»¶ç¤ºä¾‹è¯·å‚è§ç¬¬6.2èŠ‚**ï¼Œå…¶ä¸­åŒ…å«äº†æ‰€æœ‰å­—æ®µçš„è¯¦ç»†è¯´æ˜å’Œå®é™…é…ç½®ã€‚

### 4.4 ç‰ˆæœ¬çº¦æŸè½¬æ¢é€»è¾‘

#### çº¦æŸè§£ææµç¨‹
```
1. è¯»å–Consumeré…ç½®ä¸­çš„ç‰ˆæœ¬çº¦æŸ
2. æ‰«æchannelsç›®å½•è·å–æ‰€æœ‰å¯ç”¨ç‰ˆæœ¬
3. åº”ç”¨SemVeråŒ¹é…è§„åˆ™è¿‡æ»¤ç‰ˆæœ¬
4. æŒ‰ç¨³å®šæ€§å’Œæ¨èåº¦æ’åº
5. ç”Ÿæˆavailable_versionsåˆ—è¡¨
```

#### å®é™…è½¬æ¢ç¤ºä¾‹
```yaml
# Consumerè¾“å…¥çº¦æŸ
requirements:
  - channel: object_array_fusion_infer
    version: ">=1.2.0"

# ç³»ç»Ÿæ‰«æå¯ç”¨ç‰ˆæœ¬
Available versions in channels/object_array_fusion_infer/:
- spec-1.3.0.yaml (æœ€æ–°ï¼Œä½†å¯èƒ½ä¸ç¨³å®š)
- spec-1.2.5.yaml (ç¨³å®š)
- spec-1.2.0.yaml (ç¨³å®š)
- spec-1.1.0.yaml (ä¸æ»¡è¶³çº¦æŸ)

# Bundleè¾“å‡ºç»“æœ
channels:
  - channel: object_array_fusion_infer
    available_versions: ["1.2.5", "1.2.0", "1.3.0"]  # 1.2.5ä¼˜å…ˆæ¨è
    source_constraint: ">=1.2.0"
```

### 4.5 åä½œæœºåˆ¶

#### è§’è‰²åä½œæµç¨‹
```
1. æ•°æ®SE/MDE â†’ ç»´æŠ¤channelsè§„æ ¼
   â†“
2. FO (Feature Owner) â†’ é…ç½®Consumeréœ€æ±‚
   â†“ 
3. å¤–éƒ¨ç”Ÿäº§ç³»ç»Ÿ â†’ æ ¹æ®BundleæŒ‡å¯¼ç”Ÿäº§æ•°æ®
   â†“
4. data_releaseä»“ â†’ ç®¡ç†æœ€ç»ˆJSONLç´¢å¼•
```

#### å˜æ›´åè°ƒæœºåˆ¶
1. **Channelå˜æ›´**ï¼šSE/MDEæ›´æ–°è§„æ ¼åé€šçŸ¥FO
2. **Consumeræ›´æ–°**ï¼šFOè¯„ä¼°å½±å“ï¼Œæ›´æ–°consumeré…ç½®
3. **Bundleé‡ç”Ÿæˆ**ï¼šå¤–éƒ¨ç³»ç»ŸåŸºäºæ–°é…ç½®é‡æ–°ç”ŸæˆBundle
4. **ä¸‹æ¸¸é€šçŸ¥**ï¼šFOåè°ƒä¸‹æ¸¸å›¢é˜Ÿé€‚é…æ–°ç‰ˆæœ¬

#### ç‰ˆæœ¬é”å®šç­–ç•¥
```yaml
# compatibility/consumer_matrix.yaml ä¸­çš„ç”Ÿäº§é”å®š
production_locks:
  end_to_end_network:
    current_production:
      image_original: "1.2.0"
      object_array_fusion_infer: "1.0.0"
      occupancy: "1.0.0"
      utils_slam: "1.0.0"
      locked_until: "2025-07-01"      # ç”Ÿäº§ç¯å¢ƒé”å®šæœŸ
      environment_rollout:
        development: "1.2.0"
        testing: "1.2.0" 
        staging: "1.1.1"              # ä¿å®ˆç­–ç•¥
        production: "1.1.1"           # ç”Ÿäº§ä¿å®ˆç­–ç•¥
```

## 5. ä½¿ç”¨åœºæ™¯ä¸æœ€ä½³å®è·µ

### 5.1 ä¸‰ç§Bundleçš„ä½¿ç”¨åœºæ™¯

#### Release Bundle - æ­£å¼å‘å¸ƒç‰ˆæœ¬

**ä½¿ç”¨åœºæ™¯**ï¼š
- **ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²** - ç»è¿‡ä¸¥æ ¼è´¨é‡éªŒè¯çš„ç‰ˆæœ¬æ¸…å•
- **å®¢æˆ·äº¤ä»˜** - å‘å¤–éƒ¨å®¢æˆ·äº¤ä»˜çš„æ•°æ®ç‰ˆæœ¬ç»„åˆ
- **é‡Œç¨‹ç¢‘å‘å¸ƒ** - é‡å¤§åŠŸèƒ½æ›´æ–°çš„æ­£å¼ç‰ˆæœ¬
- **é•¿æœŸæ”¯æŒ** - éœ€è¦ç»´æŠ¤å’Œæ”¯æŒçš„ç¨³å®šç‰ˆæœ¬æ¸…å•

**ç‰¹ç‚¹**ï¼š
- ç»è¿‡å®Œæ•´QAæµç¨‹éªŒè¯çš„ç‰ˆæœ¬æ¸…å•
- æ”¯æŒ1å¹´ä»¥ä¸Šé•¿æœŸç»´æŠ¤ï¼Œæœ‰å®Œæ•´å›æ»šè®¡åˆ’
- ç”¨äºç”Ÿäº§éƒ¨ç½²å’Œå®¢æˆ·äº¤ä»˜

*è¯¦ç»†çš„Release Bundleé…ç½®ç¤ºä¾‹è¯·å‚è§ç¬¬6.2èŠ‚ã€‚*

#### Weekly Bundle - å›ºå®šå‘¨æœŸç‰ˆæœ¬

**ä½¿ç”¨åœºæ™¯**ï¼š
- **å›¢é˜Ÿåä½œåŒæ­¥** - ä¿è¯å›¢é˜Ÿä½¿ç”¨ç›¸åŒçš„ç‰ˆæœ¬æ¸…å•
- **å®šæœŸè®­ç»ƒä»»åŠ¡** - æ¯å‘¨å®šæœŸçš„æ¨¡å‹è®­ç»ƒ
- **é›†æˆæµ‹è¯•ç¯å¢ƒ** - æŒç»­é›†æˆçš„æ ‡å‡†æ•°æ®ç¯å¢ƒ
- **è¿›åº¦åŒæ­¥èŠ‚ç‚¹** - é¡¹ç›®è¿›åº¦çš„æ•°æ®ç‰ˆæœ¬é‡Œç¨‹ç¢‘

**ç‰¹ç‚¹**ï¼š
- æ”¯æŒå¤šç‰ˆæœ¬å¤‡é€‰ï¼Œæä¾›çµæ´»çš„ç‰ˆæœ¬é€‰æ‹©
- æŒ‰æ¨èåº¦æ’åºçš„ç‰ˆæœ¬æ¸…å•ï¼Œä¾¿äºè‡ªåŠ¨åŒ–ç³»ç»Ÿé€‰æ‹©
- ä¿ç•™4å‘¨å†å²ç‰ˆæœ¬ï¼Œä¾¿äºé—®é¢˜è¿½æº¯

**ä½¿ç”¨æ–¹å¼**ï¼š
- æ¯å‘¨ä¸€å›¢é˜Ÿä¾‹ä¼šå‰è‡ªåŠ¨ç”Ÿæˆ
- å›¢é˜Ÿæ”¶åˆ°é€šçŸ¥ï¼šğŸ“… Weekly Bundle 2025.25 å·²ç”Ÿæˆï¼ŒåŒ…å«4ä¸ªchannelçš„ç‰ˆæœ¬æ¸…å•
- æ¯å‘¨è®­ç»ƒç»“æœå¯å¯¹æ¯”ï¼Œç‰ˆæœ¬æ¸…å•ä¸€è‡´æ€§ä¿è¯

#### Snapshot Bundle - ä¸´æ—¶å¿«ç…§ç‰ˆæœ¬

**ä½¿ç”¨åœºæ™¯**ï¼š
- **å¿«é€ŸéªŒè¯å®éªŒ** - ä¸´æ—¶æ•°æ®éœ€æ±‚çš„å¿«é€Ÿå“åº”
- **POCæ¦‚å¿µéªŒè¯** - æ–°æƒ³æ³•çš„å¿«é€Ÿè¯•éªŒ
- **Bugè°ƒè¯•** - ç‰¹å®šé—®é¢˜çš„æ•°æ®é‡ç°
- **ä¸´æ—¶éœ€æ±‚** - ç´§æ€¥æˆ–çŸ­æœŸçš„æ•°æ®éœ€æ±‚

**ç‰¹ç‚¹**ï¼š
- **å¤šç‰ˆæœ¬å¹¶è¡Œå®éªŒ**ï¼šæ”¯æŒA/Bæµ‹è¯•å’Œç‰ˆæœ¬å¯¹æ¯”
- **ç²¾ç¡®ç‰ˆæœ¬å¤ç°**ï¼šç”¨äºBugè°ƒè¯•å’Œé—®é¢˜è¿½æº¯
- **å®éªŒç”¨é€”æ ‡è®°**ï¼šå¯æ·»åŠ experiment_roleç­‰è‡ªå®šä¹‰å­—æ®µ
- **è‡ªåŠ¨è¿‡æœŸæ¸…ç†**ï¼š7-30å¤©åè‡ªåŠ¨æ¸…ç†ï¼Œé¿å…ç§¯ç´¯

**å¸¸è§ä½¿ç”¨åœºæ™¯**ï¼š
- ç®—æ³•ç ”ç©¶å‘˜æµ‹è¯•æ–°æƒ³æ³•ï¼šæ”¯æŒå¤šç‰ˆæœ¬å¹¶è¡ŒéªŒè¯
- ç´§æ€¥Bugè°ƒè¯•ï¼šå¤ç°ç‰¹å®šç‰ˆæœ¬ç»„åˆçš„é—®é¢˜
- POCæ¦‚å¿µéªŒè¯ï¼šå¿«é€ŸéªŒè¯æ–°æŠ€æœ¯æ–¹æ¡ˆçš„å¯è¡Œæ€§

*å…·ä½“çš„Snapshot Bundleé…ç½®ç¤ºä¾‹è¯·å‚è§ç¬¬6.2èŠ‚ã€‚*

### 5.2 ç‰ˆæœ¬ç®¡ç†æœ€ä½³å®è·µ

#### ç‰ˆæœ¬çº¦æŸé€‰æ‹©ç­–ç•¥

| ç¯å¢ƒç±»å‹ | æ¨èçº¦æŸç­–ç•¥ | åŸå›  | ç¤ºä¾‹çº¦æŸ |
|----------|-------------|------|----------|
| **ç”Ÿäº§ç¯å¢ƒ** | ä¿å®ˆç­–ç•¥ | ç¨³å®šæ€§ä¼˜å…ˆï¼Œé¿å…æ„å¤–å˜æ›´ | `"~1.2.0"` åªå…è®¸è¡¥ä¸æ›´æ–° |
| **æµ‹è¯•ç¯å¢ƒ** | å…¼å®¹ç­–ç•¥ | éªŒè¯åŠŸèƒ½æ›´æ–°ï¼Œä½†é¿å…ç ´åæ€§å˜æ›´ | `"^1.2.0"` å…è®¸å°ç‰ˆæœ¬æ›´æ–° |
| **å®éªŒç¯å¢ƒ** | å¼€æ”¾ç­–ç•¥ | å…è®¸å°è¯•æ–°åŠŸèƒ½ï¼ŒåŒ…æ‹¬ç ´åæ€§æ›´æ–° | `">=1.2.0"` å…è®¸ä»»ä½•æ–°ç‰ˆæœ¬ |
| **ç‰¹å®šåŠŸèƒ½** | ç²¾ç¡®ç­–ç•¥ | ä¾èµ–ç‰¹å®šç‰ˆæœ¬çš„æ–°åŠŸèƒ½ | `">=1.3.0"` æ˜ç¡®æœ€ä½ç‰ˆæœ¬éœ€æ±‚ |

#### Consumerç‰ˆæœ¬è§„åˆ’

**ä¸»ç‰ˆæœ¬æ¼”è¿›ç­–ç•¥**ï¼š
```
v1.0.0 â†’ v1.1.0 â†’ v1.2.0 â†’ v2.0.0
  â†“        â†“        â†“        â†“
åŸºç¡€åŠŸèƒ½   å¢å¼ºåŠŸèƒ½   ä¼˜åŒ–æ”¹è¿›   æ¶æ„å‡çº§
```

**åˆ†æ”¯ç®¡ç†ç­–ç•¥**ï¼š
```
v1.2.0 (ç¨³å®šä¸»çº¿)
â”œâ”€â”€ v1.2.1-experiment (å®éªŒåˆ†æ”¯, 30å¤©åå†³å®šåˆå¹¶æˆ–åˆ é™¤)
â”œâ”€â”€ v1.2.1-debug (è°ƒè¯•åˆ†æ”¯, é—®é¢˜è§£å†³ååˆ é™¤)  
â””â”€â”€ v1.3.0-pretraining (é¢„è®­ç»ƒç‰¹åŒ–, é•¿æœŸç»´æŠ¤)
```

#### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²ç­–ç•¥

**ç¯å¢ƒæ¨è¿›ç­–ç•¥**ï¼š
```
å¼€å‘ç¯å¢ƒ â†’ æµ‹è¯•ç¯å¢ƒ â†’ é¢„å‘å¸ƒç¯å¢ƒ â†’ ç”Ÿäº§ç¯å¢ƒ
  â†“         â†“         â†“          â†“
 æœ€æ–°ç‰ˆæœ¬   ç¨³å®šç‰ˆæœ¬   ä¿å®ˆç‰ˆæœ¬    é”å®šç‰ˆæœ¬
 (>=1.2.0) (^1.2.0)  (~1.2.0)   (1.2.0)
```

**ç‰ˆæœ¬é”å®šç®¡ç†**ï¼š
- **å¼€å‘ç¯å¢ƒ**: ä½¿ç”¨æœ€æ–°çš„Weekly Bundle
- **æµ‹è¯•ç¯å¢ƒ**: ä½¿ç”¨ä¸Šä¸€å‘¨çš„Weekly Bundle 
- **é¢„å‘å¸ƒç¯å¢ƒ**: ä½¿ç”¨Release Bundleçš„å€™é€‰ç‰ˆæœ¬
- **ç”Ÿäº§ç¯å¢ƒ**: ä½¿ç”¨ç»è¿‡éªŒè¯çš„Release Bundleï¼Œé”å®šæœŸ1-3ä¸ªæœˆ

### 5.3 é…ç½®å˜æ›´åè°ƒæµç¨‹

#### æ ‡å‡†å˜æ›´æµç¨‹
```
1. éœ€æ±‚è¯„ä¼° â†’ FOæ”¶é›†ä¸‹æ¸¸éœ€æ±‚ï¼Œè¯„ä¼°å˜æ›´å¿…è¦æ€§
   â†“
2. å½±å“åˆ†æ â†’ åˆ†æå¯¹ç°æœ‰Consumerå’ŒBundleçš„å½±å“  
   â†“
3. é…ç½®æ›´æ–° â†’ æ›´æ–°Consumeré…ç½®ï¼Œåˆ›å»ºæ–°ç‰ˆæœ¬
   â†“
4. Bundleé‡ç”Ÿæˆ â†’ å¤–éƒ¨ç³»ç»ŸåŸºäºæ–°é…ç½®ç”ŸæˆBundle
   â†“
5. ä¸‹æ¸¸é€šçŸ¥ â†’ FOåè°ƒä¸‹æ¸¸å›¢é˜Ÿé€‚é…æ–°ç‰ˆæœ¬
   â†“
6. åˆ†é˜¶æ®µéƒ¨ç½² â†’ å¼€å‘â†’æµ‹è¯•â†’é¢„å‘å¸ƒâ†’ç”Ÿäº§çš„æ¸è¿›éƒ¨ç½²
```

#### ç´§æ€¥å˜æ›´æµç¨‹
```
1. é—®é¢˜è¯†åˆ« â†’ å‘ç°å½±å“ç”Ÿäº§çš„ç´§æ€¥é—®é¢˜
   â†“
2. å¿«é€Ÿè¯„ä¼° â†’ 15åˆ†é’Ÿå†…è¯„ä¼°å½±å“èŒƒå›´å’Œè§£å†³æ–¹æ¡ˆ
   â†“  
3. ä¸´æ—¶é…ç½® â†’ åˆ›å»ºSnapshot Bundleè§£å†³ç´§æ€¥é—®é¢˜
   â†“
4. éªŒè¯æµ‹è¯• â†’ åœ¨æµ‹è¯•ç¯å¢ƒå¿«é€ŸéªŒè¯
   â†“
5. ç´§æ€¥éƒ¨ç½² â†’ ç›´æ¥éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
   â†“
6. åç»­å®Œå–„ â†’ é—®é¢˜è§£å†³åï¼Œå®Œå–„æ­£å¼ç‰ˆæœ¬å’Œæµç¨‹
```

### 5.4 æ•°æ®è´¨é‡ä¿è¯

#### Bundleè´¨é‡æ£€æŸ¥
- **ç‰ˆæœ¬ä¸€è‡´æ€§æ£€æŸ¥**: ç¡®ä¿æ‰€æœ‰çº¦æŸéƒ½èƒ½æ‰¾åˆ°æ»¡è¶³çš„ç‰ˆæœ¬
- **ä¾èµ–å…³ç³»éªŒè¯**: éªŒè¯é€šé“é—´çš„ä¾èµ–å…³ç³»æ­£ç¡®
- **è¿½æº¯å®Œæ•´æ€§**: ç¡®ä¿èƒ½è¿½æº¯åˆ°æºConsumeré…ç½®
- **æ ¼å¼è§„èŒƒæ£€æŸ¥**: éªŒè¯Bundleæ–‡ä»¶æ ¼å¼ç¬¦åˆè§„èŒƒ

#### Consumeré…ç½®éªŒè¯
- **çº¦æŸåˆç†æ€§**: æ£€æŸ¥ç‰ˆæœ¬çº¦æŸæ˜¯å¦è¿‡äºä¸¥æ ¼æˆ–å®½æ¾
- **ä¾èµ–å®Œæ•´æ€§**: ç¡®ä¿æ‰€æœ‰å¿…éœ€çš„é€šé“éƒ½æœ‰é…ç½®
- **å…¼å®¹æ€§å½±å“**: è¯„ä¼°å¯¹ç°æœ‰ç”Ÿäº§ç¯å¢ƒçš„å½±å“
- **é…ç½®ä¸€è‡´æ€§**: æ£€æŸ¥latest.yamlä¸ç‰ˆæœ¬æ–‡ä»¶çš„ä¸€è‡´æ€§

### 5.5 ç›‘æ§ä¸è¿½æº¯

#### ç‰ˆæœ¬ä½¿ç”¨ç›‘æ§
- **Bundleä½¿ç”¨ç»Ÿè®¡**: ç›‘æ§å„Bundleçš„ä½¿ç”¨é¢‘ç‡å’Œè¦†ç›–ç‡
- **ç‰ˆæœ¬åˆ†å¸ƒåˆ†æ**: åˆ†æç”Ÿäº§ç¯å¢ƒä¸­å„é€šé“ç‰ˆæœ¬çš„åˆ†å¸ƒ
- **å¼‚å¸¸æ£€æµ‹**: ç›‘æ§ç‰ˆæœ¬çº¦æŸè§£æå¤±è´¥æˆ–æ•°æ®ç¼ºå¤±æƒ…å†µ
- **æ€§èƒ½å½±å“**: è·Ÿè¸ªç‰ˆæœ¬å˜æ›´å¯¹ç³»ç»Ÿæ€§èƒ½çš„å½±å“

#### å®Œæ•´è¿½æº¯é“¾è·¯
```
training_dataset.json â†’ Bundleç‰ˆæœ¬ â†’ Consumerç‰ˆæœ¬ â†’ Channelè§„æ ¼
       â†“                    â†“           â†“           â†“
   JSONLç´¢å¼•æ–‡ä»¶         ç‰ˆæœ¬æ¸…å•     éœ€æ±‚é…ç½®     æ ¼å¼å®šä¹‰
   (data_releaseä»“)    (DataSpecHub) (DataSpecHub) (DataSpecHub)
```

è¿™æ ·çš„è®¾è®¡ç¡®ä¿äº†ä»æœ€ç»ˆæ•°æ®äº§å“åˆ°åŸå§‹è§„æ ¼å®šä¹‰çš„å®Œæ•´å¯è¿½æº¯æ€§ã€‚

## 6. æ•…éšœæ’é™¤ä¸å‚è€ƒ

### 6.1 å¸¸è§é—®é¢˜è§£å†³

#### é…ç½®ç›¸å…³é—®é¢˜

**é—®é¢˜1ï¼šBundleç”Ÿæˆæ—¶ç‰ˆæœ¬çº¦æŸæ— æ³•æ»¡è¶³**
```
é”™è¯¯ä¿¡æ¯ï¼šNo available versions found for channel 'object_array_fusion_infer' with constraint '>=1.5.0'
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥channelsç›®å½•ä¸‹æ˜¯å¦å­˜åœ¨æ»¡è¶³çº¦æŸçš„ç‰ˆæœ¬æ–‡ä»¶
2. ç¡®è®¤ç‰ˆæœ¬çº¦æŸæ˜¯å¦è¿‡äºä¸¥æ ¼
3. è€ƒè™‘æ”¾å®½ç‰ˆæœ¬çº¦æŸæˆ–æ·»åŠ å¤‡é€‰ç‰ˆæœ¬

```yaml
# ä¿®æ”¹å‰
version: ">=1.5.0"

# ä¿®æ”¹å  
version:
  - ">=1.5.0"      # é¦–é€‰çº¦æŸ
  - ">=1.4.0"      # å¤‡é€‰çº¦æŸ
```

**é—®é¢˜2ï¼šConsumeré…ç½®æ–‡ä»¶YAMLæ ¼å¼é”™è¯¯**
```
é”™è¯¯ä¿¡æ¯ï¼šYAML parsing error at line 15: mapping values are not allowed here
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥YAMLç¼©è¿›æ˜¯å¦æ­£ç¡®ï¼ˆä½¿ç”¨ç©ºæ ¼ï¼Œä¸è¦ä½¿ç”¨åˆ¶è¡¨ç¬¦ï¼‰
2. ç¡®è®¤å­—ç¬¦ä¸²å€¼æ˜¯å¦æ­£ç¡®å¼•ç”¨
3. éªŒè¯åˆ—è¡¨æ ¼å¼æ˜¯å¦æ­£ç¡®

```yaml
# é”™è¯¯æ ¼å¼
requirements:
- channel: image_original
  version: 1.2.0          # ç¼ºå°‘å¼•å·
  required true            # ç¼ºå°‘å†’å·

# æ­£ç¡®æ ¼å¼  
requirements:
  - channel: image_original
    version: "1.2.0"       # æ­£ç¡®å¼•ç”¨
    required: true         # æ­£ç¡®æ ¼å¼
```

**é—®é¢˜3ï¼šç‰ˆæœ¬çº¦æŸè§£æç»“æœä¸ç¬¦åˆé¢„æœŸ**
```
è¾“å…¥: version: "^1.2.0" 
æœŸæœ›: åŒ…å«1.3.0ã€1.4.0ç­‰
å®é™…: åªè¿”å›1.2.xç‰ˆæœ¬
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®è®¤å¯ç”¨ç‰ˆæœ¬åˆ—è¡¨ï¼šæ£€æŸ¥channelsç›®å½•ä¸‹çš„å®é™…ç‰ˆæœ¬æ–‡ä»¶
2. ç†è§£SemVerçº¦æŸè§„åˆ™ï¼š`^1.2.0`åŒ…å«1.2.0åˆ°<2.0.0
3. æ£€æŸ¥ç‰ˆæœ¬æ’åºé€»è¾‘ï¼šç¡®è®¤æ˜¯å¦æŒ‰ç¨³å®šæ€§è€Œéæ—¶é—´æ’åº

#### æ–‡ä»¶ç»“æ„é—®é¢˜

**é—®é¢˜4ï¼šæ–°é€šé“æ— æ³•è¢«è¯†åˆ«**
```
é”™è¯¯ä¿¡æ¯ï¼šChannel 'new_sensor' not found in taxonomy
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®è®¤å·²åœ¨`taxonomy/channel_taxonomy.yaml`ä¸­æ·»åŠ æ–°é€šé“
2. æ£€æŸ¥é€šé“ç›®å½•ç»“æ„æ˜¯å¦æ­£ç¡®
3. éªŒè¯è§„æ ¼æ–‡ä»¶å‘½åæ˜¯å¦ç¬¦åˆè§„èŒƒ

```yaml
# åœ¨taxonomy/channel_taxonomy.yamlä¸­æ·»åŠ 
categories:
  sensor_raw:
    channels:
      - new_sensor        # æ·»åŠ æ–°é€šé“
```

**é—®é¢˜5ï¼šBundleæ–‡ä»¶æ‰¾ä¸åˆ°**
```
é”™è¯¯ä¿¡æ¯ï¼šBundle file 'bundles/weekly/end_to_end-v1.2.0-2025.25.yaml' not found
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥Bundleæ–‡ä»¶å‘½åæ˜¯å¦ç¬¦åˆè§„èŒƒ
2. ç¡®è®¤Bundleç±»å‹ç›®å½•æ˜¯å¦æ­£ç¡®
3. éªŒè¯Consumerç‰ˆæœ¬åœ¨æ–‡ä»¶åä¸­æ˜¯å¦æ­£ç¡®

### 6.2 å®é™…é…ç½®ç¤ºä¾‹è¯¦è§£

#### å®Œæ•´çš„Consumeré…ç½®ç¤ºä¾‹
```yaml
# consumers/end_to_end/v1.2.0.yaml
meta:
  consumer: end_to_end
  owner: "e2e-team@company.com"
  description: "ç«¯åˆ°ç«¯ç½‘ç»œçš„æ•°æ®é€šé“ç‰ˆæœ¬éœ€æ±‚"
  team: "ç«¯åˆ°ç«¯å›¢é˜Ÿ"
  version: "1.2.0"
  created_at: "2025-01-15"
  updated_at: "2025-04-10"

# å½“å‰æ•°æ®éœ€æ±‚ - ä¸“æ³¨äºç‰ˆæœ¬ä¾èµ–
requirements:
  - channel: image_original
    version: "1.2.0"              # ç²¾ç¡®ç‰ˆæœ¬ï¼šä¸šåŠ¡å…³é”®ï¼Œéœ€è¦ç‰¹å®šåŠŸèƒ½
    required: true
    on_missing: "fail"
    
  - channel: object_array_fusion_infer
    version: ">=1.2.0"            # èŒƒå›´çº¦æŸï¼šå…è®¸åŠŸèƒ½å¢å¼º
    required: true
    on_missing: "fail"
    
  - channel: occupancy
    version:                      # å¤šç‰ˆæœ¬å€™é€‰ï¼šé¦–é€‰ç‰¹å®šç‰ˆæœ¬ï¼Œå¤‡é€‰æ ‡å‡†ç‰ˆæœ¬
      - "1.0.0"
    required: true
    on_missing: "fail"
    
  - channel: utils_slam
    version: ">=1.0.0"            # èŒƒå›´çº¦æŸï¼šç›¸å¯¹ç¨³å®šçš„å·¥å…·é“¾
    required: true
    on_missing: "fail"
    
  - channel: lidar_points
    version:                      # å¤æ‚å¤šç‰ˆæœ¬ï¼šæ”¯æŒä¸è§„èŒƒå‘½å
      - "2.1.0_5cm_optimized"     # é¦–é€‰ï¼š5cmç²¾åº¦ä¼˜åŒ–ç‰ˆæœ¬
      - "2.1.0_5cm"               # å¤‡é€‰ï¼š5cmç²¾åº¦æ ‡å‡†ç‰ˆæœ¬
      - "2.1.0_10cm"              # å¤‡é€‰ï¼š10cmç²¾åº¦ç‰ˆæœ¬
      - ">=2.1.0"                 # æœ€åå¤‡é€‰ï¼šä»»ä½•2.1+ç‰ˆæœ¬
    required: false               # å¯é€‰æ•°æ®ï¼šç¼ºå¤±ä¸å½±å“æ ¸å¿ƒåŠŸèƒ½
    on_missing: "ignore"

# éœ€æ±‚å˜æ›´å†å² - ä¾¿äºè¿½æº¯æ¼”è¿›è¿‡ç¨‹
change_history:
  - date: "2025-01-15"
    version: "1.0.0"
    changes: "åˆå§‹ç‰ˆæœ¬ï¼šimage_original(1.0.0) + object_array_fusion_infer(>=1.0.0)"
    
  - date: "2025-02-20"  
    version: "1.1.0"
    changes: "æ·»åŠ  occupancy(1.0.0)"
    
  - date: "2025-02-27"
    version: "1.1.1"
    changes: "æ·»åŠ  utils_slam(>=1.0.0)"
    
  - date: "2025-04-10"
    version: "1.2.0"
    changes: "å‡çº§ image_original åˆ° 1.2.0ï¼Œæ·»åŠ  lidar_points æ”¯æŒ"
```

#### å¯¹åº”çš„Bundleè§£æç»“æœ
```yaml
# bundles/weekly/end_to_end-v1.2.0-2025.25.yaml
meta:
  bundle_name: end_to_end
  consumer_version: "v1.2.0"
  bundle_version: "v1.2.0-2025.25"
  bundle_type: weekly
  created_at: "2025-06-20T14:30:00Z"
  source_consumer: "consumers/end_to_end/latest.yaml"
  description: "ç«¯åˆ°ç«¯ç½‘ç»œæ•°æ®å¿«ç…§ - 2025å¹´ç¬¬25å‘¨"

conversion_source:
  consumer_config: "consumers/end_to_end/latest.yaml"
  consumer_version: "v1.2.0"
  conversion_time: "2025-06-20T14:30:00Z"
  converted_by: "bundle_generator"

channels:
  - channel: image_original
    available_versions: ["1.2.0"]                    # ç²¾ç¡®åŒ¹é…
    source_constraint: "1.2.0"
    required: true
    on_missing: "fail"
    
  - channel: object_array_fusion_infer  
    available_versions: ["1.2.0"]                    # æ»¡è¶³>=1.2.0çš„æœ€ä½³ç‰ˆæœ¬
    source_constraint: ">=1.2.0"
    required: true
    on_missing: "fail"
    
  - channel: occupancy
    available_versions: ["1.0.0"]                    # å€™é€‰åˆ—è¡¨ä¸­çš„ç‰ˆæœ¬
    source_constraint: "['1.0.0']"
    required: true
    on_missing: "fail"
    
  - channel: utils_slam
    available_versions: ["1.1.0", "1.0.0"]           # æ»¡è¶³>=1.0.0ï¼ŒæŒ‰æ¨èåº¦æ’åº
    source_constraint: ">=1.0.0"
    required: true
    on_missing: "fail"
    
  - channel: lidar_points
    available_versions: ["2.1.0_5cm_optimized", "2.1.0_5cm", "2.1.0"]  # å¤æ‚ç‰ˆæœ¬è§£æ
    source_constraint: "['2.1.0_5cm_optimized', '2.1.0_5cm', '2.1.0_10cm', '>=2.1.0']"
    required: false
    on_missing: "ignore"
```

### 6.3 ä¸‹æ¸¸ä½¿ç”¨æŒ‡å—

#### è‡ªåŠ¨åŒ–ç³»ç»Ÿä½¿ç”¨æ¨¡å¼
```python
# æ¨èç”¨æ³•ï¼šä½¿ç”¨ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼ˆæœ€ä½³é€‰æ‹©ï¼‰
def load_data(bundle, channel_name):
    channel = find_channel(bundle, channel_name)
    primary_version = channel['available_versions'][0]
    return load_channel_data(channel_name, primary_version)
```

#### å®¹é”™å¤„ç†æ¨¡å¼
```python
# å¸¦fallbackçš„ç”¨æ³•ï¼šä¾æ¬¡å°è¯•å¯ç”¨ç‰ˆæœ¬
def load_data_with_fallback(bundle, channel_name):
    channel = find_channel(bundle, channel_name)
    for version in channel['available_versions']:
        try:
            return load_channel_data(channel_name, version)
        except DataNotFoundError:
            continue
    raise DataNotFoundError(f"No available version for {channel_name}")
```

#### ç‰ˆæœ¬é€‰æ‹©ç­–ç•¥
```python
# æ‰‹åŠ¨ç‰ˆæœ¬é€‰æ‹©ï¼šæ ¹æ®ç­–ç•¥é€‰æ‹©åˆé€‚ç‰ˆæœ¬
def select_version(bundle, channel_name, strategy="recommended"):
    channel = find_channel(bundle, channel_name)
    versions = channel['available_versions']
    
    if strategy == "recommended":
        return versions[0]  # ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼ˆç³»ç»Ÿæ¨èï¼‰
    elif strategy == "latest":
        return max(versions, key=parse_version)  # è¯­ä¹‰ä¸Šæœ€æ–°çš„ç‰ˆæœ¬
    elif strategy == "stable":
        return versions[0]  # å½“å‰çº¦å®šç¬¬ä¸€ä¸ªæ˜¯æœ€ç¨³å®šçš„
```

### 6.4 ç‰ˆæœ¬çº¦æŸå¿«é€Ÿå‚è€ƒ

#### SemVerçº¦æŸè¯­æ³•é€ŸæŸ¥è¡¨

| çº¦æŸè¡¨è¾¾å¼ | åŒ¹é…ç‰ˆæœ¬ | ä½¿ç”¨åœºæ™¯ | é£é™©ç­‰çº§ |
|-----------|----------|----------|----------|
| `"1.2.0"` | ä»…1.2.0 | ç”Ÿäº§ç¯å¢ƒï¼Œä¸¥æ ¼è¦æ±‚ | ä½ |
| `"~1.2.0"` | 1.2.x | ç”Ÿäº§ç¯å¢ƒï¼Œå…è®¸è¡¥ä¸ | ä½ |
| `"^1.2.0"` | 1.x.x (ä½†<2.0.0) | å¼€å‘ç¯å¢ƒï¼ŒåŠŸèƒ½å…¼å®¹ | ä¸­ |
| `">=1.2.0"` | 1.2.0åŠä»¥ä¸Šæ‰€æœ‰ç‰ˆæœ¬ | å®éªŒç¯å¢ƒï¼Œè¿½æ±‚æ–°åŠŸèƒ½ | é«˜ |
| `">1.2.0"` | å¤§äº1.2.0çš„æ‰€æœ‰ç‰ˆæœ¬ | ç‰¹æ®Šéœ€æ±‚ï¼Œæ’é™¤ç‰¹å®šç‰ˆæœ¬ | é«˜ |
| `"*"` | ä»»ä½•ç‰ˆæœ¬ | å¼€å‘æµ‹è¯•ï¼Œç‰ˆæœ¬æ— å…³ | é«˜ |

*è¯¦ç»†çš„ç‰ˆæœ¬çº¦æŸè¯­æ³•è¯´æ˜å’Œå¤„ç†é€»è¾‘è¯·å‚è§ç¬¬3.3èŠ‚å’Œç¬¬3.5èŠ‚ã€‚*

#### ç¯å¢ƒæ¨èçº¦æŸç­–ç•¥

| ç¯å¢ƒ | æ¨èçº¦æŸ | è¯´æ˜ |
|------|---------|------|
| ç”Ÿäº§ç¯å¢ƒ | `"~1.2.0"` | åªå…è®¸è¡¥ä¸æ›´æ–° |
| å¼€å‘ç¯å¢ƒ | `"^1.2.0"` | å…è®¸å°ç‰ˆæœ¬æ›´æ–° |
| å®éªŒç¯å¢ƒ | `">=1.2.0"` | å…è®¸ä»»ä½•æ–°ç‰ˆæœ¬ |

### 6.5 è”ç³»ä¸æ”¯æŒ

#### æŠ€æœ¯æ”¯æŒ
- **é…ç½®é—®é¢˜**: æ•°æ®å¹³å°å›¢é˜Ÿ data-platform@company.com
- **ç‰ˆæœ¬å…¼å®¹æ€§**: æ•°æ®æ²»ç†å›¢é˜Ÿ data-governance@company.com  
- **ç´§æ€¥é—®é¢˜**: é€šè¿‡ä¼ä¸šIMè”ç³»ç›¸å…³FOæˆ–æ•°æ®SE

#### ç›¸å…³èµ„æº
- **DataSpecHubä»“åº“**: æœ¬ä»“åº“ï¼ŒåŒ…å«æ‰€æœ‰è§„æ ¼å’Œé…ç½®
- **data_releaseä»“åº“**: æœ€ç»ˆæ•°æ®äº¤ä»˜ç‰©ç®¡ç†
- **å…¼å®¹æ€§çŸ©é˜µ**: `compatibility/consumer_matrix.yaml`
- **é€šé“åˆ†ç±»**: `taxonomy/channel_taxonomy.yaml`

#### æœ€ä½³å®è·µæ£€æŸ¥æ¸…å•

**é…ç½®æ–°Consumeræ—¶**ï¼š
- [ ] ç‰ˆæœ¬çº¦æŸæ˜¯å¦åˆç†ï¼ˆä¸è¿‡ä¸¥ä¸è¿‡æ¾ï¼‰
- [ ] å¿…éœ€æ€§è®¾ç½®æ˜¯å¦æ­£ç¡®ï¼ˆrequiredå­—æ®µï¼‰
- [ ] ç¼ºå¤±å¤„ç†ç­–ç•¥æ˜¯å¦é€‚å½“ï¼ˆon_missingå­—æ®µï¼‰
- [ ] å˜æ›´å†å²æ˜¯å¦è®°å½•å®Œæ•´ï¼ˆchange_historyå­—æ®µï¼‰
- [ ] latest.yamlæ˜¯å¦æ­£ç¡®æŒ‡å‘

**Bundleä½¿ç”¨æ—¶**ï¼š
- [ ] Bundleç±»å‹æ˜¯å¦é€‚åˆä½¿ç”¨åœºæ™¯
- [ ] ç‰ˆæœ¬æ¸…å•æ˜¯å¦æ»¡è¶³éœ€æ±‚
- [ ] è¿½æº¯ä¿¡æ¯æ˜¯å¦å®Œæ•´
- [ ] è¿è¡Œæ—¶é…ç½®æ˜¯å¦æ­£ç¡®ä¼ é€’

**ç‰ˆæœ¬å‡çº§æ—¶**ï¼š
- [ ] å½±å“åˆ†ææ˜¯å¦å……åˆ†
- [ ] å…¼å®¹æ€§æµ‹è¯•æ˜¯å¦å®Œæˆ
- [ ] åˆ†é˜¶æ®µéƒ¨ç½²æ˜¯å¦è§„åˆ’
- [ ] å›æ»šæ–¹æ¡ˆæ˜¯å¦å‡†å¤‡

è¿™ä»½å®Œæ•´æŒ‡å—æ¶µç›–äº†DataSpecHubçš„æ‰€æœ‰æ ¸å¿ƒæ¦‚å¿µã€é…ç½®æ–¹æ³•ã€ä½¿ç”¨åœºæ™¯å’Œæ•…éšœæ’é™¤ï¼Œä¸ºä½¿ç”¨è€…æä¾›äº†ä»å…¥é—¨åˆ°ç²¾é€šçš„å®Œæ•´å‚è€ƒã€‚

